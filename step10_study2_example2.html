<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>step10_study2_example2.html</title>
  </head>
  <body>
    <button id="showBtn">목록보기</button>
    <table>
      <thead>
        <tr>
          <th>번호</th>
          <th>이름</th>
          <th>주소</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <script>
      //원격지 서버로 부터 받아온 UI 에 출력할 정보를 가지고 있는 JSON 문서(문자열) 이라고 가정하자
      const data = `[
        {"num":1, "name":"김구라", "addr":"노량진"},
        {"num":2, "name":"해골", "addr":"행신동"},
        {"num":3, "name":"원숭이", "addr":"상도동"}
        ]`;
      //목록 보기 버튼을 눌렀을 때 회원 목록을 tbody에 출력해보세요

      document.querySelector("#showBtn").addEventListener("click", () => {
        const arr = JSON.parse(data); //JSON 문서를 배열로 바꿔줌.
        // 기본 반복문
        // for (let i = 0; i < arr.length; i++) {
        //   const tr = `
        //         <tr>
        //             <td>${arr[i].num}</td>
        //             <td>${arr[i].name}</td>
        //             <td>${arr[i].addr}</td>
        //         </tr>
        //     `;

        for (let i = 0; i < arr.length; i++) {
          // 배열의 i버째  object를 불러와서
          let tmp = arr[i];
          //tr문자열을 구성하고
          const tr = `
                <tr>
                    <td>${tmp.num}</td>
                    <td>${tmp.name}</td>
                    <td>${tmp.addr}</td>
                </tr>
            `;

          document.querySelector("tbody").insertAdjacentHTML("beforeend", tr);
        }
      });
    </script>
  </body>
</html>
